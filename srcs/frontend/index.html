<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script type="module" src="./src/login.ts"></script>
<body>
    <main id="app"></main>

    <script type="module">
        import { backendLogin } from './src/login';
        import { backendSignup } from './src/signup';

        const app = document.getElementById('app');

        const routes = {
            login: renderLogin,
            signup: renderSignup,
            dashboard: renderDashboard,
        };

        function renderLogin() {
            app.innerHTML  = `
            <form id="login-form">
                <input name="email" type="email" class="'input" required/>
                <input name="password" type="password" class="'input" required/>
                <button type="submit" class="'btn">Login</button>
            </form>
            <a href="./signup.html" type="signup" class="'btn">Signup instead</a>
            <div id="message"></div>`;

            backendLogin();
        };

        function renderSignup() {
            app.innerHTML = `
            <form id="signup-form">
                <label>Firstname: <input name="firstname" type="text" class="'input" required/>
                <label>Lastname: <input name="lastname" type="text" class="'input" required/></label><br><br>
                <label>Username: <input name="username" type="text" class="'input" required/></label><br><br>
                <label>Email: <input name="email" type="email" class="'input" required/></label>
                <label>Password: <input name="password" type="password" class="'input" required/>
                <button type="submit" class="btn">Sign-up</button>
            </form>
            <div id="message"></div>`;

            backendSignup();
        };

        function renderDashboard() {
            app.innerHTML = `
            <div name="options">
                <button>Profile</button>
                <button>Play</button>
                <button>History</button>
            </div>`;

        };
        function router() {
            const route = location.hash.replace('#', '') || 'login';
            const render = routes[route] || renderLogin;
            render();
        }

        window.addEventListener('hashchange', router);
        window.addEventListener('DOMContentLoaded', router);
        </script>
</body>
</html>